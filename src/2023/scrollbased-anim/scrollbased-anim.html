<div class="progress-hover"></div>
<div class="slides-section">
    <h1>Scroll based Animations</h1>
    <available-usable date="Experimental" url="https://caniuse.com/?search=animation-timeline"></available-usable>

    <div class="bullets">
        <p>ğŸ•°ï¸ The Scroll-driven Animations Specification define two types of timelines </p>
        <p>ğŸ“œ Scroll Progress Timeline: Links timeline to scroll position </p>
        <p>ğŸ‘€ View Progress Timeline: Links timeline to elementâ€™s position </p>
        <p>ğŸ¬ The animation it drives is defined with the <code>@keyframes</code> keyword</p>
    </div>
</div>

<div class="slides-section">
    <h2>Scroll Progress Timeline</h2>
    <div class="bullets">
        <p>ğŸ”„ Scroll-based timeline in CSS links the timeline to the scroll position </p>
        <p>ğŸ“ As you scroll, the linked CSS animation advances or rewinds accordingly</p>
    </div>
    <h3>Syntax</h3>
    <pre>
animation-timeline: scroll(root | nearest | self block | inline | x | y);    </pre>
</div>

<div class="slides-section">
    <h2>Code - Setup animation with @keyframes</h2>
    <section class="center">
        <pre>
@keyframes block-grow {
    from {
        background-color: purple;
        transform: scaleX(0);
    }

    to {
        background-color: hotpink;
        transform: scaleX(1);
    }
}
</pre>
    </section>
</div>

<div class="slides-section">
    <h2>Code - Setup animation timeline</h2>
    <section class="center">
        <pre>
.content-port {
    width: 300px;
    height: 200px;
    overflow-y: scroll;

    .animated-block {
        height: 400px;

        animation-name: block-grow;
        animation-timeline: scroll(nearest block);
        animation-timing-function: linear;
    }
}</pre>
    </section>
</div>

<div class="slides-section">
    <h2>Code - Markup</h2>
    <xmp>
        <div class="content-port">
            <div class="animated-block"></div>
        </div>
    </xmp>

    <h2>Result</h2>
    <div class="content-port">
        <div class="animated-block"></div>
    </div>

</div>

<div class="slides-section">
    <h2>View Progress Timeline</h2>

    <div class="bullets">
        <p>ğŸ“š <code>scroll-timeline-name</code> is used to define a named view progress timeline</p>
        <p>ğŸ”„ The timeline progresses is based on the change in visibility of that â˜ï¸ element inside a scroller</p>
        <p>ğŸ¯ The element that the view-timeline is set on is reffered to as the <strong>Subject</strong></p>
        <p>ğŸ“ˆ The visibility of the subject inside the viewport is tracked â€” by default, the
            timeline is at 0% at one edge of the viewport and 100% when at the opposite edge</p>
        <p>ğŸ¥ The name is referenced in an animation-timeline declaration and used as the timeline progresses </p>
        <p>ğŸš« If the viewport does not overflow or if the overflow is hidden or clipped, no timeline will be created</p>
    </div>
</div>

<div class="slides-section">
    <h2>Code - Animation Setup</h2>
    <section class="center">
        <pre>
@keyframes bar-grow {
    from {
        background-color: black;
        opacity: 0;
        width: 0px;
    }

    to {
        background-color: rgb(79, 16, 120);
        opacity: 1;
        width: calc(100% - var(--menu-width));
    }
}</pre>
    </section>
</div>

<div class="slides-section">
    <h2>Code - Defining the subject</h2>
    <pre>
.my-selected-element {
    scroll-timeline-name: --page;
}</pre>

    <h2>Code - Defining the scroller</h2>
    <pre>
.progress-hover {
    height: 3px;
    position: fixed;
    left: var(--menu-width);
    animation-name: bar-grow;
    animation-timeline: --page;
    animation-timing-function: linear;
}        </pre>

    <h2>Result â¤´ï¸</h2>
</div>